-------
Platform:
linux-g++(egcs only, no gcc2.95.2) and dec-cxx >= v6.2

-------
Installer:


source AMS/install/g4i

see $G4INSTALL/ReleaseNotes.VC for ams specifics


<recommended>
setenv AMSWD smth
mkdir $AMSWD/bin
mkdir $AMSWD/exe

gmake -if install/Moptg4   (batch)
gmake -if install/Moptg4   (interactive)

n.b
setenv AMSDEBUG 1 switch on debug mode
unsetenv AMSDEBUG switch it off

--------
Datacards Switch:

MISCFFKEY.G4On=1



--------
Running conditions:

need to set
limit data 512000
for dec-cxx
limit data 384000
for linux-g++

---------
Example

AMS/datacards/g4.test.job

---------
New Files:


CC/geant4.C                           <<  wrappers, analogs of 
include/geant4.h,geantnamespace.h     <<  gukine,guout,gustep etc
                                      << detector initalizator

CC/g4physics.C   <<- physics

   
-----------
Modified files

CC/gbatch.C  << Main program <-- choose geant3/geant4 chain  
                                 
CC/geant.C   << geant(3,4) initialization in uginit/uglast   

CC/gvolume.C << Constructor modified
            

CC/gmat.C    << new geant4  constructors













Status (geant4.2.0):


Tracking is ok for dec/cxx, memory leak for linux/gcc2.95.2,
                            ok for          linux/egcs.1.1.2

interactive version ok

geometry tested: tof,tracker,trd,srd,magnet,ecal,anti,rich





<User cuts a-la geant3>

Geant4 has no default tracking cuts and 
also production cuts (in range) belong to particle,
not tracking media.  
Default production cut for all particles except e+- is 1mm,
for e+- is 100 mkm (to properly handle  tracker)

The following routines are available to manually
set up some geant-3 tracking cuts:
(gmat.h,gmat.C) CUTGAM CUTELE CUTNEU CUTMUO CUTHAD TOFMAX

Example:
AMSgtmed ptmed= (AMSgtmed*)tmed.add (new AMSgtmed("EC_RADIATOR","LEAD",0,'N',birks,2,20.,10.,1000.,
-1.,0.001,-1.)); // simplif.tracking in magn.f
//GSTPAR(GetLastMedNo(),"CUTGAM",ECMCFFKEY.cutge);// special cuts for EC_RADIATOR
//GSTPAR(GetLastMedNo(),"CUTELE",ECMCFFKEY.cutge);

// geant4 + geant3 (i.e. also calls GSTPAR)

ptmed->CUTGAM(ECMCFFKEY.cutge);
ptmed->CUTELE(ECMCFFKEY.cutge);

in addition one can also set the range cut (in cm)

via 
ptmed.CUTRANGE()=range;

For debug purposes all geant3-like cuts may be switch on/off via 
G4FF 4=1/0   datacard




To be done



F/rndm.F  <-- change to heprandom


